#!/bin/sh

DEFAULT_INSTALL_DIR=/usr/bin

install_local() {
  sudo mv huff $DEFAULT_INSTALL_DIR
  echo "huff successfully installed!"
}

print_usage() {
  echo "Huff is a package management utility that delegates to other package management utilities."
  echo
  echo "  Usage:"
  echo "    huff -h/--help"
  echo "    huff command [arguments...] [options...]"
  echo
  echo "  Examples:"
  echo "    huff install curl"
  echo  
}

search_brew() {
  result=$(brew search $1)
  results=(${result// / })
  for var in "${results[@]}"
  do
    if [ $1 == $var ]
    then
      return 1
    fi
  done
  return 0
}

install() {
  echo "searching brew for $1"
  search_brew $1
  found=$?
  if [ $found -eq 1 ]
  then
    brew install $1
  fi
}

if [ $# -eq 0 ]
then
  print_usage
  exit
fi


if [ $1 == "--install-local" ]
then
  install_local
elif [ $1 == "install" ]
then
  install $2
fi

